---
title: "Git의 저장방식"
tags:
    - tech-review
    - git
    - Communicate
date: "2025-08-06"
thumbnail: "/assets/img/thumbnail/nightgardenflower.jpg"
---

# Git

백엔드 시스템을 개발하면서, 기존의 연구과정과 달리 다른 사람과 병렬적으로 작업을 수행하면서, 깃을 사용하게 됨으로써, 깃 버전 관리 및 브랜치 관리를 철저하게 할 필요성이 느껴졌다. 따라서 협업을 위해 사용될 수 있는 깃 명령 및 정보들을 정리한다.

Git이란 [Version Control System](https://www.geeksforgeeks.org/git/version-control-systems/)의 일종이며, 이는 소프트웨어 개발 및 협업 프로젝트에서 소스 코드, 문서 및 기타 파일의 변경 사항을 추적하고 관리하는 데 사용되는 도구이다. 

혼자 작업하든 팀으로 작업하든, 버전 관리는 작업 내용을 안전하고 체계적으로 정리하며 협업하기 쉽게 유지하는 데 도움이 되며, 이러한 도구를 사용함으로써 아래와 같은 이득을 얻을 수 있다.

1. 파일 및 프로젝트를 이전 상태에 쉽게 접근할 수 있다.
2. 누가 언제 해당 내용을 작업했고, 문제를 만들어냈거나, 새로운 문제를 발견해 이슈를 생성한 사람의 추적이 가능하다.
3. 파일을 잃어버리거나 잘못 고쳤을 때 쉽게 복구가 가능하다.
4. 서로의 작업을 덮어씌울 일 없이, 협업을 할 때 다른 사람의 수정 내용을 쉽게 알 수 있다.

이러한 Version Control System, Git 외에도 VCS에는 git보다 단순한 GUI를 선호하여 채택되는 Mercurial, 코드 작업 외에 모든 리소스를 중앙 서버에서 관리해주는 Perforce(P4V) 등이 있으나, 대부분의 VCS 시스템은 git의 채택률이 가장 높다. 또한 현재 작업하고 있는 시스템도 code 위주에 변경이 많은 백엔드 서버 작업임으로 git을 분석해보자.

## Git의 공간

![git 개요도](/assets/img/pages/tech-review/Communicate/git/git.webp)

위의 그림을 보기 전에, git이란 결국 파일들을 추적하여 변화를 기록하여, 버전을 관리해준다. 그렇다면 git이란 도구는 우리가 파일을 수정할 때마다 모든 변화를 기록하는 것일까?

그건 아니다. git은 작업하고 있는 디렉토리에 파일들의 상태를 추적하고, 우리가 특정 명령을 할 때마다, snapshot처럼 해당 상태의 파일들을 local repo에 저장한다. 이런 과정에 파일들이 저장되는 공간엔 아래와 같은 종류가 있다.

### 1. Working Directory
    
우리가 git init 등을 통해 git으로 관리하겠다고 선언한 작업 디렉토리이다. 해당 디렉토리 내의 변화와 git의 변화는 구분된다.
git 명령을 통해 저장한 변화들을 버전으로써 기록이 되지만, 해당 디렉토리에서 git 명령 없이 그냥 수정한 작업들은 버전 기록없이 그냥 저장되는 것이다.

우리가 파일을 수정하고, 저장했을 때 기본적으로 모든 파일은 Working Directory에 존재한다.

### 2. Staging Area
Local Repo에 저장하기 전에 파일에 대한 snapshot 만들어 모아두는 장소라고 생각하면 된다. 우리가 git add 명령을 사용하면, 우리가 해당 명령을 통해 옮긴 파일들은 staging Area에 임시보관된다. 해당 공간엔 파일 전체가 아닌, 업데이트하기를 원하는 일부 파일들만 옮길 수 있다.

### 3. Local Repo
Staging Area에 존재하는 파일들을 git commit 명령을 수행했을 때 옮겨지는 공간이다. 로컬 공간의 .git으로 이루어진 git 프로젝트의 메타데이터와 객체 데이터베이스를 저장하는 공간으로, 실제 파일들의 과거의 버전들과 현재 커밋된 새로운 버전들을 모두 저장하는 공간이다. 

구체적인 .git 폴더의 저장 방식에 대해서는 링크를 참조하자 : [.git의 저장방법]()

### 4. Remote Repo
Local Repo에 존재하는 파일들을 git push 등의 명령으로 github 등의 원격 저장소(Remote Repo)에 저장할 수 있다. 이를 통해 파일들의 버전별 수정 내역 등이 저장된 .git 폴더 자체를 원격 저장소에 업로드하면서 다른 팀원들과 공유 및 협업을 수행할 수 있는 저장소이다.   


## Git의 파일의 상태

git에서 관리하고 있는 모든 파일들은 우리가 git 명령을 사용함에 따라 아래의 **4가지 공간**으로 이동하게 된다. 또한 이에 따라 각 **파일의 상태**도 변하게 된다.

먼저 파일의 상태에 대해 이해해보자.

* git File LifeCycle
  
![file status](/assets/img/pages/tech-review/Communicate/git/file_lifecycle.webp)

**1. Untracked**
git이란 각 파일들의 변화를 추적하고, 버전을 기록해준다. 하지만 한번도 기록되지 않은 상태에 파일의 변화과 git 입장에서 의미가 있을까?
아직 기록되지 않은 파일이 어떻게 변화하든 과거의 상태는 없음으로 고정된 상태이기에, git은 해당 파일의 변화를 기록하지 않는다.
이런 파일들이 Untracked File이다.

그래서 우리가 작업 공간에서 파일을 생성하고, 아직 git을 통해 작업을 수행하지 않았을 때, 이런 파일들을 Untracked 파일이다. 해당 파일들은 git add 및 commit 명령을 통해서 local repo에 저장되기 전까진, 추적되지 않는다.

**2. Staged**
위의 공간 설명에서 Stage란 공간은 
